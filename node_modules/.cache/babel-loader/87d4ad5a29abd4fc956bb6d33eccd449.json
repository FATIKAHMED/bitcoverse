{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = require(\"react\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _dom = require(\"../utils/dom\");\n\nvar propTypes = {\n  clickable: _propTypes[\"default\"].bool,\n  dblclickable: _propTypes[\"default\"].bool,\n  manager: _propTypes[\"default\"].object,\n  actions: _propTypes[\"default\"].object,\n  player: _propTypes[\"default\"].object,\n  shortcuts: _propTypes[\"default\"].array\n};\nvar defaultProps = {\n  clickable: true,\n  dblclickable: true\n};\n\nvar Shortcut = /*#__PURE__*/function (_Component) {\n  (0, _inherits2[\"default\"])(Shortcut, _Component);\n\n  function Shortcut(props, context) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Shortcut);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Shortcut).call(this, props, context));\n    _this.defaultShortcuts = [{\n      keyCode: 32,\n      // spacebar\n      handle: _this.togglePlay\n    }, {\n      keyCode: 75,\n      // k\n      handle: _this.togglePlay\n    }, {\n      keyCode: 70,\n      // f\n      handle: _this.toggleFullscreen\n    }, {\n      keyCode: 37,\n      // Left arrow\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.replay(5, {\n          action: 'replay-5',\n          source: 'shortcut'\n        }); // Go back 5 seconds\n      }\n    }, {\n      keyCode: 74,\n      // j\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.replay(10, {\n          action: 'replay-10',\n          source: 'shortcut'\n        }); // Go back 10 seconds\n      }\n    }, {\n      keyCode: 39,\n      // Right arrow\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.forward(5, {\n          action: 'forward-5',\n          source: 'shortcut'\n        }); // Go forward 5 seconds\n      }\n    }, {\n      keyCode: 76,\n      // l\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.forward(10, {\n          action: 'forward-10',\n          source: 'shortcut'\n        }); // Go forward 10 seconds\n      }\n    }, {\n      keyCode: 36,\n      // Home\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.seek(0); // Go to beginning of video\n      }\n    }, {\n      keyCode: 35,\n      // End\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        } // Go to end of video\n\n\n        actions.seek(player.duration);\n      }\n    }, {\n      keyCode: 38,\n      // Up arrow\n      handle: function handle(player, actions) {\n        // Increase volume 5%\n        var v = player.volume + 0.05;\n\n        if (v > 1) {\n          v = 1;\n        }\n\n        actions.changeVolume(v, {\n          action: 'volume-up',\n          source: 'shortcut'\n        });\n      }\n    }, {\n      keyCode: 40,\n      // Down arrow\n      handle: function handle(player, actions) {\n        // Decrease volume 5%\n        var v = player.volume - 0.05;\n\n        if (v < 0) {\n          v = 0;\n        }\n\n        var action = v > 0 ? 'volume-down' : 'volume-off';\n        actions.changeVolume(v, {\n          action: action,\n          source: 'shortcut'\n        });\n      }\n    }, {\n      keyCode: 190,\n      // Shift + >\n      shift: true,\n      handle: function handle(player, actions) {\n        // Increase speed\n        var playbackRate = player.playbackRate;\n\n        if (playbackRate >= 1.5) {\n          playbackRate = 2;\n        } else if (playbackRate >= 1.25) {\n          playbackRate = 1.5;\n        } else if (playbackRate >= 1.0) {\n          playbackRate = 1.25;\n        } else if (playbackRate >= 0.5) {\n          playbackRate = 1.0;\n        } else if (playbackRate >= 0.25) {\n          playbackRate = 0.5;\n        } else if (playbackRate >= 0) {\n          playbackRate = 0.25;\n        }\n\n        actions.changeRate(playbackRate, {\n          action: 'fast-forward',\n          source: 'shortcut'\n        });\n      }\n    }, {\n      keyCode: 188,\n      // Shift + <\n      shift: true,\n      handle: function handle(player, actions) {\n        // Decrease speed\n        var playbackRate = player.playbackRate;\n\n        if (playbackRate <= 0.5) {\n          playbackRate = 0.25;\n        } else if (playbackRate <= 1.0) {\n          playbackRate = 0.5;\n        } else if (playbackRate <= 1.25) {\n          playbackRate = 1.0;\n        } else if (playbackRate <= 1.5) {\n          playbackRate = 1.25;\n        } else if (playbackRate <= 2) {\n          playbackRate = 1.5;\n        }\n\n        actions.changeRate(playbackRate, {\n          action: 'fast-rewind',\n          source: 'shortcut'\n        });\n      }\n    }];\n    _this.shortcuts = (0, _toConsumableArray2[\"default\"])(_this.defaultShortcuts);\n    _this.mergeShortcuts = _this.mergeShortcuts.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleKeyPress = _this.handleKeyPress.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleClick = _this.handleClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleDoubleClick = _this.handleDoubleClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Shortcut, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mergeShortcuts();\n      document.addEventListener('keydown', this.handleKeyPress);\n      document.addEventListener('click', this.handleClick);\n      document.addEventListener('dblclick', this.handleDoubleClick);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.shortcuts !== this.props.shortcuts) {\n        this.mergeShortcuts();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('keydown', this.handleKeyPress);\n      document.removeEventListener('click', this.handleClick);\n      document.removeEventListener('dblclick', this.handleDoubleClick);\n    } // merge the shortcuts from props\n\n  }, {\n    key: \"mergeShortcuts\",\n    value: function mergeShortcuts() {\n      var getShortcutKey = function getShortcutKey(_ref) {\n        var _ref$keyCode = _ref.keyCode,\n            keyCode = _ref$keyCode === void 0 ? 0 : _ref$keyCode,\n            _ref$ctrl = _ref.ctrl,\n            ctrl = _ref$ctrl === void 0 ? false : _ref$ctrl,\n            _ref$shift = _ref.shift,\n            shift = _ref$shift === void 0 ? false : _ref$shift,\n            _ref$alt = _ref.alt,\n            alt = _ref$alt === void 0 ? false : _ref$alt;\n        return \"\".concat(keyCode, \":\").concat(ctrl, \":\").concat(shift, \":\").concat(alt);\n      };\n\n      var defaultShortcuts = this.defaultShortcuts.reduce(function (shortcuts, shortcut) {\n        return Object.assign(shortcuts, (0, _defineProperty2[\"default\"])({}, getShortcutKey(shortcut), shortcut));\n      }, {});\n      var mergedShortcuts = (this.props.shortcuts || []).reduce(function (shortcuts, shortcut) {\n        var keyCode = shortcut.keyCode,\n            handle = shortcut.handle;\n\n        if (keyCode && typeof handle === 'function') {\n          return Object.assign(shortcuts, (0, _defineProperty2[\"default\"])({}, getShortcutKey(shortcut), shortcut));\n        }\n\n        return shortcuts;\n      }, defaultShortcuts);\n\n      var gradeShortcut = function gradeShortcut(s) {\n        var score = 0;\n        var ps = ['ctrl', 'shift', 'alt'];\n        ps.forEach(function (key) {\n          if (s[key]) {\n            score++;\n          }\n        });\n        return score;\n      };\n\n      this.shortcuts = Object.keys(mergedShortcuts).map(function (key) {\n        return mergedShortcuts[key];\n      }).sort(function (a, b) {\n        return gradeShortcut(b) - gradeShortcut(a);\n      });\n    }\n  }, {\n    key: \"togglePlay\",\n    value: function togglePlay(player, actions) {\n      if (player.paused) {\n        actions.play({\n          action: 'play',\n          source: 'shortcut'\n        });\n      } else {\n        actions.pause({\n          action: 'pause',\n          source: 'shortcut'\n        });\n      }\n    }\n  }, {\n    key: \"toggleFullscreen\",\n    value: function toggleFullscreen(player, actions) {\n      actions.toggleFullscreen(player);\n    }\n  }, {\n    key: \"handleKeyPress\",\n    value: function handleKeyPress(e) {\n      var _this$props = this.props,\n          player = _this$props.player,\n          actions = _this$props.actions;\n\n      if (!player.isActive) {\n        return;\n      }\n\n      if (document.activeElement && ((0, _dom.hasClass)(document.activeElement, 'video-react-control') || (0, _dom.hasClass)(document.activeElement, 'video-react-menu-button-active') // || hasClass(document.activeElement, 'video-react-slider')\n      || (0, _dom.hasClass)(document.activeElement, 'video-react-big-play-button'))) {\n        return;\n      }\n\n      var keyCode = e.keyCode || e.which;\n      var ctrl = e.ctrlKey || e.metaKey;\n      var shift = e.shiftKey;\n      var alt = e.altKey;\n      var shortcut = this.shortcuts.filter(function (s) {\n        if (!s.keyCode || s.keyCode - keyCode !== 0) {\n          return false;\n        }\n\n        if (s.ctrl !== undefined && s.ctrl !== ctrl || s.shift !== undefined && s.shift !== shift || s.alt !== undefined && s.alt !== alt) {\n          return false;\n        }\n\n        return true;\n      })[0];\n\n      if (shortcut) {\n        shortcut.handle(player, actions);\n        e.preventDefault();\n      }\n    } // only if player is active and player is ready\n\n  }, {\n    key: \"canBeClicked\",\n    value: function canBeClicked(player, e) {\n      if (!player.isActive || e.target.nodeName !== 'VIDEO' || player.readyState !== 4) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      var _this$props2 = this.props,\n          player = _this$props2.player,\n          actions = _this$props2.actions,\n          clickable = _this$props2.clickable;\n\n      if (!this.canBeClicked(player, e) || !clickable) {\n        return;\n      }\n\n      this.togglePlay(player, actions); // e.preventDefault();\n    }\n  }, {\n    key: \"handleDoubleClick\",\n    value: function handleDoubleClick(e) {\n      var _this$props3 = this.props,\n          player = _this$props3.player,\n          actions = _this$props3.actions,\n          dblclickable = _this$props3.dblclickable;\n\n      if (!this.canBeClicked(player, e) || !dblclickable) {\n        return;\n      }\n\n      this.toggleFullscreen(player, actions); // e.preventDefault();\n    } // this component dose not render anything\n    // it's just for the key down event\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n  return Shortcut;\n}(_react.Component);\n\nexports[\"default\"] = Shortcut;\nShortcut.propTypes = propTypes;\nShortcut.defaultProps = defaultProps;\nShortcut.displayName = 'Shortcut';","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_defineProperty2","_toConsumableArray2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_react","_propTypes","_dom","propTypes","clickable","bool","dblclickable","manager","object","actions","player","shortcuts","array","defaultProps","Shortcut","_Component","props","context","_this","call","defaultShortcuts","keyCode","handle","togglePlay","toggleFullscreen","hasStarted","replay","action","source","forward","seek","duration","v","volume","changeVolume","shift","playbackRate","changeRate","mergeShortcuts","bind","handleKeyPress","handleClick","handleDoubleClick","key","componentDidMount","document","addEventListener","componentDidUpdate","prevProps","componentWillUnmount","removeEventListener","getShortcutKey","_ref","_ref$keyCode","_ref$ctrl","ctrl","_ref$shift","_ref$alt","alt","concat","reduce","shortcut","assign","mergedShortcuts","gradeShortcut","s","score","ps","forEach","keys","map","sort","a","b","paused","play","pause","e","_this$props","isActive","activeElement","hasClass","which","ctrlKey","metaKey","shiftKey","altKey","filter","undefined","preventDefault","canBeClicked","target","nodeName","readyState","_this$props2","_this$props3","render","Component","displayName"],"sources":["C:/Users/Basil/Documents/GitHub/bitcoverse/node_modules/video-react/lib/components/Shortcut.js"],"sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports[\"default\"] = void 0;\r\n\r\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\r\n\r\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\r\n\r\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\r\n\r\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\r\n\r\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\r\n\r\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\r\n\r\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\r\n\r\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\r\n\r\nvar _react = require(\"react\");\r\n\r\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\r\n\r\nvar _dom = require(\"../utils/dom\");\r\n\r\nvar propTypes = {\r\n  clickable: _propTypes[\"default\"].bool,\r\n  dblclickable: _propTypes[\"default\"].bool,\r\n  manager: _propTypes[\"default\"].object,\r\n  actions: _propTypes[\"default\"].object,\r\n  player: _propTypes[\"default\"].object,\r\n  shortcuts: _propTypes[\"default\"].array\r\n};\r\nvar defaultProps = {\r\n  clickable: true,\r\n  dblclickable: true\r\n};\r\n\r\nvar Shortcut =\r\n/*#__PURE__*/\r\nfunction (_Component) {\r\n  (0, _inherits2[\"default\"])(Shortcut, _Component);\r\n\r\n  function Shortcut(props, context) {\r\n    var _this;\r\n\r\n    (0, _classCallCheck2[\"default\"])(this, Shortcut);\r\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Shortcut).call(this, props, context));\r\n    _this.defaultShortcuts = [{\r\n      keyCode: 32,\r\n      // spacebar\r\n      handle: _this.togglePlay\r\n    }, {\r\n      keyCode: 75,\r\n      // k\r\n      handle: _this.togglePlay\r\n    }, {\r\n      keyCode: 70,\r\n      // f\r\n      handle: _this.toggleFullscreen\r\n    }, {\r\n      keyCode: 37,\r\n      // Left arrow\r\n      handle: function handle(player, actions) {\r\n        if (!player.hasStarted) {\r\n          return;\r\n        }\r\n\r\n        actions.replay(5, {\r\n          action: 'replay-5',\r\n          source: 'shortcut'\r\n        }); // Go back 5 seconds\r\n      }\r\n    }, {\r\n      keyCode: 74,\r\n      // j\r\n      handle: function handle(player, actions) {\r\n        if (!player.hasStarted) {\r\n          return;\r\n        }\r\n\r\n        actions.replay(10, {\r\n          action: 'replay-10',\r\n          source: 'shortcut'\r\n        }); // Go back 10 seconds\r\n      }\r\n    }, {\r\n      keyCode: 39,\r\n      // Right arrow\r\n      handle: function handle(player, actions) {\r\n        if (!player.hasStarted) {\r\n          return;\r\n        }\r\n\r\n        actions.forward(5, {\r\n          action: 'forward-5',\r\n          source: 'shortcut'\r\n        }); // Go forward 5 seconds\r\n      }\r\n    }, {\r\n      keyCode: 76,\r\n      // l\r\n      handle: function handle(player, actions) {\r\n        if (!player.hasStarted) {\r\n          return;\r\n        }\r\n\r\n        actions.forward(10, {\r\n          action: 'forward-10',\r\n          source: 'shortcut'\r\n        }); // Go forward 10 seconds\r\n      }\r\n    }, {\r\n      keyCode: 36,\r\n      // Home\r\n      handle: function handle(player, actions) {\r\n        if (!player.hasStarted) {\r\n          return;\r\n        }\r\n\r\n        actions.seek(0); // Go to beginning of video\r\n      }\r\n    }, {\r\n      keyCode: 35,\r\n      // End\r\n      handle: function handle(player, actions) {\r\n        if (!player.hasStarted) {\r\n          return;\r\n        } // Go to end of video\r\n\r\n\r\n        actions.seek(player.duration);\r\n      }\r\n    }, {\r\n      keyCode: 38,\r\n      // Up arrow\r\n      handle: function handle(player, actions) {\r\n        // Increase volume 5%\r\n        var v = player.volume + 0.05;\r\n\r\n        if (v > 1) {\r\n          v = 1;\r\n        }\r\n\r\n        actions.changeVolume(v, {\r\n          action: 'volume-up',\r\n          source: 'shortcut'\r\n        });\r\n      }\r\n    }, {\r\n      keyCode: 40,\r\n      // Down arrow\r\n      handle: function handle(player, actions) {\r\n        // Decrease volume 5%\r\n        var v = player.volume - 0.05;\r\n\r\n        if (v < 0) {\r\n          v = 0;\r\n        }\r\n\r\n        var action = v > 0 ? 'volume-down' : 'volume-off';\r\n        actions.changeVolume(v, {\r\n          action: action,\r\n          source: 'shortcut'\r\n        });\r\n      }\r\n    }, {\r\n      keyCode: 190,\r\n      // Shift + >\r\n      shift: true,\r\n      handle: function handle(player, actions) {\r\n        // Increase speed\r\n        var playbackRate = player.playbackRate;\r\n\r\n        if (playbackRate >= 1.5) {\r\n          playbackRate = 2;\r\n        } else if (playbackRate >= 1.25) {\r\n          playbackRate = 1.5;\r\n        } else if (playbackRate >= 1.0) {\r\n          playbackRate = 1.25;\r\n        } else if (playbackRate >= 0.5) {\r\n          playbackRate = 1.0;\r\n        } else if (playbackRate >= 0.25) {\r\n          playbackRate = 0.5;\r\n        } else if (playbackRate >= 0) {\r\n          playbackRate = 0.25;\r\n        }\r\n\r\n        actions.changeRate(playbackRate, {\r\n          action: 'fast-forward',\r\n          source: 'shortcut'\r\n        });\r\n      }\r\n    }, {\r\n      keyCode: 188,\r\n      // Shift + <\r\n      shift: true,\r\n      handle: function handle(player, actions) {\r\n        // Decrease speed\r\n        var playbackRate = player.playbackRate;\r\n\r\n        if (playbackRate <= 0.5) {\r\n          playbackRate = 0.25;\r\n        } else if (playbackRate <= 1.0) {\r\n          playbackRate = 0.5;\r\n        } else if (playbackRate <= 1.25) {\r\n          playbackRate = 1.0;\r\n        } else if (playbackRate <= 1.5) {\r\n          playbackRate = 1.25;\r\n        } else if (playbackRate <= 2) {\r\n          playbackRate = 1.5;\r\n        }\r\n\r\n        actions.changeRate(playbackRate, {\r\n          action: 'fast-rewind',\r\n          source: 'shortcut'\r\n        });\r\n      }\r\n    }];\r\n    _this.shortcuts = (0, _toConsumableArray2[\"default\"])(_this.defaultShortcuts);\r\n    _this.mergeShortcuts = _this.mergeShortcuts.bind((0, _assertThisInitialized2[\"default\"])(_this));\r\n    _this.handleKeyPress = _this.handleKeyPress.bind((0, _assertThisInitialized2[\"default\"])(_this));\r\n    _this.handleClick = _this.handleClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\r\n    _this.handleDoubleClick = _this.handleDoubleClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\r\n    return _this;\r\n  }\r\n\r\n  (0, _createClass2[\"default\"])(Shortcut, [{\r\n    key: \"componentDidMount\",\r\n    value: function componentDidMount() {\r\n      this.mergeShortcuts();\r\n      document.addEventListener('keydown', this.handleKeyPress);\r\n      document.addEventListener('click', this.handleClick);\r\n      document.addEventListener('dblclick', this.handleDoubleClick);\r\n    }\r\n  }, {\r\n    key: \"componentDidUpdate\",\r\n    value: function componentDidUpdate(prevProps) {\r\n      if (prevProps.shortcuts !== this.props.shortcuts) {\r\n        this.mergeShortcuts();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"componentWillUnmount\",\r\n    value: function componentWillUnmount() {\r\n      document.removeEventListener('keydown', this.handleKeyPress);\r\n      document.removeEventListener('click', this.handleClick);\r\n      document.removeEventListener('dblclick', this.handleDoubleClick);\r\n    } // merge the shortcuts from props\r\n\r\n  }, {\r\n    key: \"mergeShortcuts\",\r\n    value: function mergeShortcuts() {\r\n      var getShortcutKey = function getShortcutKey(_ref) {\r\n        var _ref$keyCode = _ref.keyCode,\r\n            keyCode = _ref$keyCode === void 0 ? 0 : _ref$keyCode,\r\n            _ref$ctrl = _ref.ctrl,\r\n            ctrl = _ref$ctrl === void 0 ? false : _ref$ctrl,\r\n            _ref$shift = _ref.shift,\r\n            shift = _ref$shift === void 0 ? false : _ref$shift,\r\n            _ref$alt = _ref.alt,\r\n            alt = _ref$alt === void 0 ? false : _ref$alt;\r\n        return \"\".concat(keyCode, \":\").concat(ctrl, \":\").concat(shift, \":\").concat(alt);\r\n      };\r\n\r\n      var defaultShortcuts = this.defaultShortcuts.reduce(function (shortcuts, shortcut) {\r\n        return Object.assign(shortcuts, (0, _defineProperty2[\"default\"])({}, getShortcutKey(shortcut), shortcut));\r\n      }, {});\r\n      var mergedShortcuts = (this.props.shortcuts || []).reduce(function (shortcuts, shortcut) {\r\n        var keyCode = shortcut.keyCode,\r\n            handle = shortcut.handle;\r\n\r\n        if (keyCode && typeof handle === 'function') {\r\n          return Object.assign(shortcuts, (0, _defineProperty2[\"default\"])({}, getShortcutKey(shortcut), shortcut));\r\n        }\r\n\r\n        return shortcuts;\r\n      }, defaultShortcuts);\r\n\r\n      var gradeShortcut = function gradeShortcut(s) {\r\n        var score = 0;\r\n        var ps = ['ctrl', 'shift', 'alt'];\r\n        ps.forEach(function (key) {\r\n          if (s[key]) {\r\n            score++;\r\n          }\r\n        });\r\n        return score;\r\n      };\r\n\r\n      this.shortcuts = Object.keys(mergedShortcuts).map(function (key) {\r\n        return mergedShortcuts[key];\r\n      }).sort(function (a, b) {\r\n        return gradeShortcut(b) - gradeShortcut(a);\r\n      });\r\n    }\r\n  }, {\r\n    key: \"togglePlay\",\r\n    value: function togglePlay(player, actions) {\r\n      if (player.paused) {\r\n        actions.play({\r\n          action: 'play',\r\n          source: 'shortcut'\r\n        });\r\n      } else {\r\n        actions.pause({\r\n          action: 'pause',\r\n          source: 'shortcut'\r\n        });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"toggleFullscreen\",\r\n    value: function toggleFullscreen(player, actions) {\r\n      actions.toggleFullscreen(player);\r\n    }\r\n  }, {\r\n    key: \"handleKeyPress\",\r\n    value: function handleKeyPress(e) {\r\n      var _this$props = this.props,\r\n          player = _this$props.player,\r\n          actions = _this$props.actions;\r\n\r\n      if (!player.isActive) {\r\n        return;\r\n      }\r\n\r\n      if (document.activeElement && ((0, _dom.hasClass)(document.activeElement, 'video-react-control') || (0, _dom.hasClass)(document.activeElement, 'video-react-menu-button-active') // || hasClass(document.activeElement, 'video-react-slider')\r\n      || (0, _dom.hasClass)(document.activeElement, 'video-react-big-play-button'))) {\r\n        return;\r\n      }\r\n\r\n      var keyCode = e.keyCode || e.which;\r\n      var ctrl = e.ctrlKey || e.metaKey;\r\n      var shift = e.shiftKey;\r\n      var alt = e.altKey;\r\n      var shortcut = this.shortcuts.filter(function (s) {\r\n        if (!s.keyCode || s.keyCode - keyCode !== 0) {\r\n          return false;\r\n        }\r\n\r\n        if (s.ctrl !== undefined && s.ctrl !== ctrl || s.shift !== undefined && s.shift !== shift || s.alt !== undefined && s.alt !== alt) {\r\n          return false;\r\n        }\r\n\r\n        return true;\r\n      })[0];\r\n\r\n      if (shortcut) {\r\n        shortcut.handle(player, actions);\r\n        e.preventDefault();\r\n      }\r\n    } // only if player is active and player is ready\r\n\r\n  }, {\r\n    key: \"canBeClicked\",\r\n    value: function canBeClicked(player, e) {\r\n      if (!player.isActive || e.target.nodeName !== 'VIDEO' || player.readyState !== 4) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }, {\r\n    key: \"handleClick\",\r\n    value: function handleClick(e) {\r\n      var _this$props2 = this.props,\r\n          player = _this$props2.player,\r\n          actions = _this$props2.actions,\r\n          clickable = _this$props2.clickable;\r\n\r\n      if (!this.canBeClicked(player, e) || !clickable) {\r\n        return;\r\n      }\r\n\r\n      this.togglePlay(player, actions); // e.preventDefault();\r\n    }\r\n  }, {\r\n    key: \"handleDoubleClick\",\r\n    value: function handleDoubleClick(e) {\r\n      var _this$props3 = this.props,\r\n          player = _this$props3.player,\r\n          actions = _this$props3.actions,\r\n          dblclickable = _this$props3.dblclickable;\r\n\r\n      if (!this.canBeClicked(player, e) || !dblclickable) {\r\n        return;\r\n      }\r\n\r\n      this.toggleFullscreen(player, actions); // e.preventDefault();\r\n    } // this component dose not render anything\r\n    // it's just for the key down event\r\n\r\n  }, {\r\n    key: \"render\",\r\n    value: function render() {\r\n      return null;\r\n    }\r\n  }]);\r\n  return Shortcut;\r\n}(_react.Component);\r\n\r\nexports[\"default\"] = Shortcut;\r\nShortcut.propTypes = propTypes;\r\nShortcut.defaultProps = defaultProps;\r\nShortcut.displayName = 'Shortcut';"],"mappings":"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"},"metadata":{},"sourceType":"script"}